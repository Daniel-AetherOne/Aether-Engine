{% extends "app/layout.html" %}
{% block content %}

<div class="space-y-6">
  <div class="flex items-start justify-between gap-4">
    <div>
      <a href="/app/leads/{{ lead.id }}" class="text-sm text-slate-600 hover:text-slate-900">‚Üê Terug naar lead</a>
      <h1 class="mt-2 text-2xl font-semibold text-slate-900">Offerte bewerken</h1>
      <p class="mt-1 text-sm text-slate-600">Handmatige aanpassingen (notities / korting / totaal).</p>
    </div>
  </div>

  <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
    <form method="post" action="/app/leads/{{ lead.id }}/edit-estimate" class="space-y-4">

      <div>
        <label class="block text-xs font-semibold uppercase tracking-wide text-slate-500">Publieke notities</label>
        <textarea name="public_notes" rows="5"
                  class="mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm">{{ overrides.get('public_notes') or '' }}</textarea>
      </div>

      <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
        <div>
          <label class="block text-xs font-semibold uppercase tracking-wide text-slate-500">Korting (%)</label>
          <input name="discount_percent" type="number" min="0" max="100" step="0.1"
                 value="{{ overrides.get('discount_percent') if overrides.get('discount_percent') is not none else '' }}"
                 class="mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm" />
        </div>

        <div>
          <label class="block text-xs font-semibold uppercase tracking-wide text-slate-500">Handmatig totaal (optioneel)</label>
          <input name="manual_total" type="number" min="0" step="0.01"
                 value="{{ overrides.get('manual_total') if overrides.get('manual_total') is not none else '' }}"
                 class="mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm" />
          <p class="mt-1 text-xs text-slate-500">Indien ingevuld, overschrijft dit het getoonde totaal.</p>
        </div>
      </div>

      <div class="flex items-center gap-2">
        <button type="submit"
                class="inline-flex h-9 items-center justify-center rounded-lg bg-slate-900 px-4 text-sm font-medium text-white shadow-sm hover:bg-slate-800 transition-colors">
          Wijzigingen opslaan
        </button>

        <a href="/app/leads/{{ lead.id }}"
           class="inline-flex h-9 items-center justify-center rounded-lg border border-slate-200 bg-white px-4 text-sm font-medium text-slate-900 shadow-sm hover:bg-slate-50 transition-colors">
          Annuleren
        </a>
      </div>
    </form>
  </div>
</div>

{% endblock %}